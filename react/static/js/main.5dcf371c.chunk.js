(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{16:function(e,t,a){},25:function(e,t,a){},39:function(e,t,a){e.exports=a(67)},44:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(35),i=a.n(l),c=(a(44),a(23)),o=(a(25),a(16),a(19)),r=a(9),u=a(3),d=a(4),h=a(6),m=a(5),p=a(7),k=a(1),b=a.n(k),v=a(10),f=a(11),C=n.a.createContext({isAuthenticated:!1,userLogged:"none",activeList:"none",authenticate:function(){},signout:function(){},identify:function(){}});var g=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",password:"",touched:{username:!1,password:!1},attempt:!0},a.change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.handleBlur=function(e){return function(t){a.setState({touched:Object(o.a)({},a.state.touched,Object(r.a)({},e,!0))})}},a.onSubmit=function(e){e.preventDefault(),b.a.get("https://to-do-list-server-api.herokuapp.com/users-login",{params:{username:a.state.username,password:a.state.password}}).then((function(e){console.log(e),!0===e.data?(console.log("Password matches"),a.context.authenticate(),a.setState({attempt:!0}),a.setState({redirect:!0})):(a.setState({username:"",password:"",touched:{username:!1,password:!1}}),a.setState({attempt:!1}),console.log("Matching Failed ".concat(a.state.password)))})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;if(this.state.redirect)return console.log("login successful"),n.a.createElement(C.Consumer,null,(function(t){var a=t.identify;return n.a.createElement(v.a,{push:a(e.state.username,e.context.state.activeList),to:"/Select"})}));var t,a,s=(t=this.state.username,a=this.state.password,{username:0===t.length,password:0===a.length}),l=!Object.keys(s).some((function(e){return s[e]})),i=function(t){var a=s[t],n=e.state.touched[t];return!!a&&n},c=function(t){return!!e.state.touched[t]};return n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"Sign-In"),n.a.createElement("input",{name:"username",maxLength:20,className:i("username")?"error":"",filled:c("username")?"good":"",onBlur:this.handleBlur("username"),placeholder:"Username",value:this.state.username,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:i("username")?"shown-messages":"hidden-messages"},"Enter Username"),n.a.createElement("br",null),n.a.createElement("input",{name:"password",maxLength:30,className:i("password")?"error":"",filled:c("password")?"good":"",onBlur:this.handleBlur("password"),placeholder:"Password",type:"password",value:this.state.password,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:i("password")?"shown-messages":"hidden-messages"},"Enter Password"),n.a.createElement("br",null),n.a.createElement("p",{className:this.state.attempt?"hidden-messages":"shown-messages"},"Sign-In Failed"),n.a.createElement("br",null),n.a.createElement("button",{disabled:!l,onClick:function(t){return e.onSubmit(t)}},"Sign-In")),n.a.createElement("p",null,"New User?")," ",n.a.createElement(f.b,{to:"/CUForm"},"Create Account"))}}]),t}(n.a.Component);g.contextType=C;var E=a(2),T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={clickedTasks:[],clickedButtons:[],unavailableTasks:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"checkClicked",value:function(e){return this.state.clickedTasks.includes(e)}},{key:"checkComplete",value:function(e){return this.props.completedTasks.includes(e)}},{key:"checkDeletable",value:function(e){return this.state.clickedButtons.includes(e)}},{key:"componentDidMount",value:function(){this.props.unavailableTasks.push(this.props.obj.name),this.setState({unavailableTasks:this.props.unavailableTasks}),"true"===this.props.obj.completed&&(this.props.completedTasks.push(this.props.obj._id),this.setState({completedTasks:this.props.completedTasks}))}},{key:"render",value:function(){var e=this,t=this.props.obj._id,a=this.props.obj.name;return n.a.createElement("div",{shape:"rTableRow",onClick:function(){return e.props.isClicked(t,a)},onClickCapture:function(){return e.setState({clickedTasks:e.props.clickedTasks})},className:this.checkClicked(t)?"rowClicked":"rowNotClicked",completed:this.checkComplete(t)?"rowCompleted":"",deletable:this.checkDeletable(t)?"true":"false"},n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(t)?"rowClicked":"rowNotClicked",completed:this.checkComplete(t)?"rowCompleted":""},this.props.obj.name),n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(t)?"rowClicked":"rowNotClicked",completed:this.checkComplete(t)?"rowCompleted":""},this.props.obj.description),n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(t)?"rowClicked":"rowNotClicked",completed:this.checkComplete(t)?"rowCompleted":""},this.props.obj.due),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(t)?"Clicked":"notClicked",onClick:function(){return e.props.isCompleted(t)},onClickCapture:function(){return e.setState({completedTasks:e.props.completedTasks})},completed:this.checkComplete(t)?"rowCompleted":"",shown:this.checkDeletable(t)?"hidden":""},"Done")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(t)?"Clicked":"notClicked",onClick:function(){return e.props.editMenu(e.props.obj)},completed:this.checkComplete(t)?"rowCompleted":"",shown:this.checkDeletable(t)?"hidden":""},"Edit")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{onClick:function(){return e.props.buttonClicked(t)},onClickCapture:function(){return e.setState({clickedButtons:e.props.clickedButtons})},completed:this.checkComplete(t)?"rowCompleted":"",className:this.checkClicked(t)?"Clicked":"notClicked",shown:this.checkDeletable(t)?"hidden":""},"Delete"),n.a.createElement("button",{className:"deletebutton",onClick:function(){return e.props.deleteOneTask(t)},shown:this.checkDeletable(t)?"":"hidden"},"Delete Task?")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(t)?"Clicked":"",onClick:function(){return e.props.buttonClicked(t)},shown:this.checkDeletable(t)?"show":"hidden"},"Cancel")))}}]),t}(s.Component),w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).taskTable=function(){return a.props.taskCollection.map((function(e,t){return n.a.createElement(T,{obj:e,key:t,editMenu:a.props.editMenu,isClicked:a.props.isClicked,clickedTasks:a.props.clickedTasks,isCompleted:a.props.isCompleted,completedTasks:a.props.completedTasks,deleteOneTask:a.props.deleteOneTask,clickedButtons:a.props.clickedButtons,buttonClicked:a.props.buttonClicked,unavailableTasks:a.props.unavailableTasks})}))},a.state={clickedTasks:[],completedTasks:[],clickedButtons:[],unavailableTasks:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.taskTable();return n.a.createElement("div",{className:"tableDisplay"},n.a.createElement("div",{shape:"rTable"},n.a.createElement("div",{shape:"rTableRow"},n.a.createElement("div",{shape:"rTableCell"},"Name"),n.a.createElement("div",{shape:"rTableCell"},"Description"),n.a.createElement("div",{shape:"rTableCell"},"Due")),e))}}]),t}(s.Component),O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={user:a.context.state.userLogged,name:a.state.name,description:a.state.description,due:a.state.due,list:a.context.state.activeList};b.a.post("https://to-do-list-server-api.herokuapp.com/tasks",t).then((function(e){console.log(e.data),a.setState({name:"",description:"",due:""}),a.refreshTasks()})).catch((function(e){console.log(e)}))},a.componentDidMount=function(){a.refreshTasks()},a.state={name:"",description:"",due:"",selection:"",editId:"",taskCollection:[],clickedTasks:[],clickedTaskNames:[],completedTasks:[],clickedButtons:[],unavailableTasks:[],doneDelete:!1,selectedDelete:!1},a.change=a.change.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.editMenu=a.editMenu.bind(Object(E.a)(a)),a.isClicked=a.isClicked.bind(Object(E.a)(a)),a.isCompleted=a.isCompleted.bind(Object(E.a)(a)),a.deleteOneTask=a.deleteOneTask.bind(Object(E.a)(a)),a.buttonClicked=a.buttonClicked.bind(Object(E.a)(a)),a.setDoneDelete=a.setDoneDelete.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"refreshTasks",value:function(){var e=this;b.a.get("https://to-do-list-server-api.herokuapp.com/tasks",{params:{user:this.context.state.userLogged,list:this.context.state.activeList}}).then((function(t){console.log(t.data),e.setState({taskCollection:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"editMenu",value:function(e){this.setState({name:e.name,description:e.description,due:e.due,editId:e._id}),this.state.unavailableTasks.splice(this.state.unavailableTasks.indexOf(e.name),1),this.setState({redirect:!0})}},{key:"isClicked",value:function(e,t){var a=this.state.clickedTasks.includes(e);return!1===a?(this.state.clickedTasks.push(e),this.state.clickedTaskNames.push(t),!0===a):!0===a?(this.state.clickedTasks.splice(this.state.clickedTasks.indexOf(e),1),this.state.clickedTaskNames.splice(this.state.clickedTaskNames.indexOf(e),1),!1===a):void 0}},{key:"buttonClicked",value:function(e){var t=this.state.clickedButtons.includes(e);return!1===t?(this.state.clickedButtons.push(e),!0===t):!0===t?(this.state.clickedButtons.splice(this.state.clickedButtons.indexOf(e),1),!1===t):void 0}},{key:"isCompleted",value:function(e){var t=this;b.a.get("https://to-do-list-server-api.herokuapp.com/tasks-completed",{params:{id:e,completed:"true"}}).then((function(a){if(!1===a.data){b.a.patch("https://to-do-list-server-api.herokuapp.com/tasks-completed",{params:{id:e,task:{completed:"true"}}}).then((function(a){t.state.completedTasks.push(e),t.refreshTasks()})).catch((function(e){console.log(e)}))}else if(!0===a.data){b.a.patch("https://to-do-list-server-api.herokuapp.com/tasks-completed",{params:{id:e,task:{completed:"false"}}}).then((function(a){t.state.completedTasks.splice(t.state.completedTasks.indexOf(e),1),t.refreshTasks()})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}},{key:"deleteOneTask",value:function(e){var t=this;console.log(e),b.a.delete("https://to-do-list-server-api.herokuapp.com/task",{params:{id:e}}).then((function(e){t.state.unavailableTasks.splice(0,t.state.unavailableTasks.length),t.refreshTasks()})).catch((function(e){console.log(e)}))}},{key:"deleteDoneTasks",value:function(){var e=this;b.a.delete("https://to-do-list-server-api.herokuapp.com/tasks-completed",{params:{user:this.context.state.userLogged,list:this.context.state.activeList}}).then((function(t){console.log(t.data),e.state.unavailableTasks.splice(0,e.state.unavailableTasks.length),e.refreshTasks()})).catch((function(e){console.log(e)}))}},{key:"deleteSelectedTasks",value:function(){var e=this,t=this.state.clickedTaskNames;b.a.delete("https://to-do-list-server-api.herokuapp.com/tasks-selected",{params:{user:this.context.state.userLogged,list:this.context.state.activeList,names:t}}).then((function(t){e.state.unavailableTasks.splice(0,e.state.unavailableTasks.length),e.refreshTasks()})).catch((function(e){console.log(e)}))}},{key:"goBack",value:function(){this.setState({back:!0})}},{key:"setDoneDelete",value:function(){return!1===this.state.doneDelete?(this.setState({doneDelete:!0}),!0):!0===this.state.doneDelete?(this.setState({doneDelete:!1}),!1):void 0}},{key:"setSelectedDelete",value:function(){return!1===this.state.selectedDelete?(this.setState({selectedDelete:!0}),!0):!0===this.state.selectedDelete?(this.setState({selectedDelete:!1}),!1):void 0}},{key:"render",value:function(){var e=this;return this.state.redirect?n.a.createElement(v.a,{push:!0,to:{pathname:"/ETask",state:{id:this.state.editId,name:this.state.name,description:this.state.description,due:this.state.due,unavailableTasks:this.state.unavailableTasks}}}):this.state.back?n.a.createElement(v.a,{push:!0,to:"/Select"}):n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"Create New Task"),n.a.createElement("input",{name:"name",maxLength:20,placeholder:"Task Name",value:this.state.name,onChange:function(t){return e.change(t)}}),n.a.createElement("p",{className:this.state.unavailableTasks.includes(this.state.name)?"shown-messages":"hidden-messages"},"No duplicate tasks in the same list"),n.a.createElement("br",null),n.a.createElement("input",{name:"description",maxLength:50,placeholder:"What to do",value:this.state.description,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("input",{name:"due",maxLength:20,placeholder:"When to have it done",value:this.state.due,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("button",{disabled:0===this.state.name.length||this.state.unavailableTasks.includes(this.state.name),onClick:function(t){return e.onSubmit(t)}},"Add Task")),n.a.createElement("h2",null,"".concat(this.context.state.activeList)),n.a.createElement("button",{type:"button",onClick:function(){return e.goBack()}},"Back"),n.a.createElement(w,{taskCollection:this.state.taskCollection,editMenu:this.editMenu,isClicked:this.isClicked,clickedTasks:this.state.clickedTasks,isCompleted:this.isCompleted,completedTasks:this.state.completedTasks,deleteOneTask:this.deleteOneTask,clickedButtons:this.state.clickedButtons,buttonClicked:this.buttonClicked,unavailableTasks:this.state.unavailableTasks}),n.a.createElement("br",null),n.a.createElement("button",{onClick:function(){return e.setDoneDelete()},shown:this.state.doneDelete?"hidden":""},"Delete Done Tasks"),n.a.createElement("button",{className:"Clicked",onClick:function(){return e.setDoneDelete()},shown:this.state.doneDelete?"show":"hidden"},"Cancel"),n.a.createElement("button",{onClick:function(){return e.setSelectedDelete()},shown:this.state.selectedDelete?"hidden":""},"Delete Selected Tasks"),n.a.createElement("button",{className:"Clicked",onClick:function(){return e.setSelectedDelete()},shown:this.state.selectedDelete?"show":"hidden"},"Cancel"),n.a.createElement("br",null),n.a.createElement("button",{className:"deletebutton",onClick:function(){return e.deleteDoneTasks()},onClickCapture:function(){return e.setDoneDelete()},shown:this.state.doneDelete?"":"hidden"},"Delete Completed Tasks?"),n.a.createElement("button",{className:"deletebutton",onClick:function(){return e.deleteSelectedTasks()},onClickCapture:function(){return e.setSelectedDelete()},shown:this.state.selectedDelete?"":"hidden"},"Delete Selected Tasks?"),n.a.createElement("br",null))}}]),t}(n.a.Component),j=Object(v.g)(O);O.contextType=C;var L=function(){return n.a.createElement("ul",null)},y=a(38);var S=function(e){var t=e.children,a=Object(y.a)(e,["children"]);return n.a.createElement(C.Consumer,null,(function(e){var s=e.isAuthenticated;return n.a.createElement(v.b,Object.assign({},a,{render:function(e){var a=e.location;return s?t:n.a.createElement(v.a,{to:{pathname:"/",state:{from:a}}})}}))}))},D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={name:"",desc:"",due:"",unavailableLists:[]},a.change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={user:a.context.state.userLogged,name:a.state.name,description:a.state.desc,due:a.state.due};b.a.post("https://to-do-list-server-api.herokuapp.com/lists",t).then((function(e){console.log(e.data),a.setState({name:"",desc:"",due:""}),a.setState({redirect:!0})})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({unavailableLists:this.props.history.location.state.unavailableLists})}},{key:"goBack",value:function(){this.setState({back:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?n.a.createElement(v.a,{push:!0,to:"/Select"}):this.state.back?n.a.createElement(v.a,{push:!0,to:"/Select"}):n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"Create New List"),n.a.createElement("input",{name:"name",maxLength:20,placeholder:"List Name",value:this.state.name,onChange:function(t){return e.change(t)}}),n.a.createElement("p",{className:this.state.unavailableLists.includes(this.state.name)?"shown-messages":"hidden-messages"},"List names must be unique"),n.a.createElement("br",null),n.a.createElement("input",{name:"desc",maxLength:50,placeholder:"Type of List",value:this.state.desc,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("input",{name:"due",maxLength:20,placeholder:"Timeframe",value:this.state.due,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("button",{disabled:!!this.state.unavailableLists.includes(this.state.name),onClick:function(t){return e.onSubmit(t)}},"Add List"),n.a.createElement("br",null),n.a.createElement("button",{type:"button",onClick:function(){return e.goBack()}},"Back")))}}]),t}(n.a.Component),N=Object(v.g)(D);D.contextType=C;var x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",email:"",password:"",cpassword:"",touched:{username:!1,email:!1,password:!1,cpassword:!1},unavailableUsers:[],unavailableEmails:[]},a.change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.handleBlur=function(e){return function(t){a.setState({touched:Object(o.a)({},a.state.touched,Object(r.a)({},e,!0))})}},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,email:a.state.email,password:a.state.password};b.a.get("https://to-do-list-server-api.herokuapp.com/users-names-available",{params:{username:a.state.username}}).then((function(e){console.log(e),!0===e.data?b.a.get("https://to-do-list-server-api.herokuapp.com/users-emails-available",{params:{email:a.state.email}}).then((function(e){console.log(e),!0===e.data?(console.log("Email ".concat(a.state.email," Available")),b.a.post("https://to-do-list-server-api.herokuapp.com/users",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),a.setState({username:"",email:"",password:"",cpassword:"",touched:{username:!1,email:!1,password:!1,cpassword:!1}}),a.setState({redirect:!0})):!1===e.data&&(a.state.unavailableEmails.push(a.state.email),a.setState({email:a.state.email}),console.log("Email ".concat(a.state.email," is already in use")))})).catch((function(e){console.log(e)})):!1===e.data&&(a.state.unavailableUsers.push(a.state.username),a.setState({username:a.state.username}),console.log("Username ".concat(a.state.username," is unavailable")))})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;if(this.state.redirect)return n.a.createElement(v.a,{push:!0,to:"/"});var t,a,s,l,i=(t=this.state.username,a=this.state.email,s=this.state.password,l=this.state.cpassword,{username:0===t.length,email:0===a.length,password:0===s.length,cpassword:l!==s||0===l.length}),c=!Object.keys(i).some((function(e){return i[e]})),o=function(t){var a=i[t],s=e.state.touched[t];return!!a&&s},r=function(t){return!!e.state.touched[t]};return n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"New User Registration"),n.a.createElement("input",{name:"username",maxLength:30,className:o("username")?"error":"",filled:r("username")?"good":"",taken:this.state.unavailableUsers.includes(this.state.username)?"true":"",onBlur:this.handleBlur("username"),placeholder:"Username",value:this.state.username,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:this.state.unavailableUsers.includes(this.state.username)?"shown-messages":"hidden-messages"}," Username unavailable"),n.a.createElement("p",{className:o("username")?"shown-messages":"hidden-messages"}," Enter Username"),n.a.createElement("br",null),n.a.createElement("input",{name:"email",maxLength:30,className:o("email")?"error":"",filled:r("email")?"good":"",taken:this.state.unavailableEmails.includes(this.state.email)?"true":"",onBlur:this.handleBlur("email"),placeholder:"Email Address",value:this.state.email,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:this.state.unavailableEmails.includes(this.state.email)?"shown-messages":"hidden-messages"}," Email already in use, try Signing In"),n.a.createElement("p",{className:o("email")?"shown-messages":"hidden-messages"}," Enter a valid Email address"),n.a.createElement("br",null),n.a.createElement("input",{name:"password",maxLength:30,className:o("password")?"error":"",filled:r("password")?"good":"",onBlur:this.handleBlur("password"),placeholder:"Password",type:"password",value:this.state.password,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:o("password")?"shown-messages":"hidden-messages"},"Enter a good password"),n.a.createElement("br",null),n.a.createElement("input",{name:"cpassword",maxLength:30,className:o("cpassword")?"error":"",filled:r("cpassword")?"good":"",onBlur:this.handleBlur("cpassword"),placeholder:"Confirm Password",type:"password",value:this.state.cpassword,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("p",{className:o("cpassword")?"shown-messages":"hidden-messages"},"Passwords must match"),n.a.createElement("br",null),n.a.createElement("p",{className:c?"shown-messages":"hidden-messages"},"Ready to submit"),n.a.createElement("br",null),n.a.createElement("button",{disabled:!c,onClick:function(t){return e.onSubmit(t)}},"Create Account")),n.a.createElement("p",null,"Already have an account?"),n.a.createElement(f.b,{to:"/"},"Sign-in"))}}]),t}(n.a.Component),B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={clickedLists:[],clickedButtons:[],unavailableLists:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"checkClicked",value:function(e){return this.state.clickedLists.includes(e)}},{key:"checkDeletable",value:function(e){return this.state.clickedButtons.includes(e)}},{key:"componentDidMount",value:function(){this.props.unavailableLists.push(this.props.obj.name),this.setState({unavailableLists:this.props.unavailableLists})}},{key:"render",value:function(){var e=this,t=this.props.obj.name,a=this.props.obj._id;return n.a.createElement("div",{shape:"rTableRow",onClick:function(){return e.props.isClicked(a)},onClickCapture:function(){return e.setState({clickedLists:e.props.clickedLists})},className:this.checkClicked(a)?"rowClicked":"rowNotClicked",deletable:this.checkDeletable(a)?"true":"false"},n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(a)?"rowClicked":"rowNotClicked"},this.props.obj.name),n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(a)?"rowClicked":"rowNotClicked"},this.props.obj.description),n.a.createElement("div",{shape:"rTableCell",className:this.checkClicked(a)?"rowClicked":"rowNotClicked"},this.props.obj.due),n.a.createElement("div",null,n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(a)?"Clicked":"notClicked",onClick:function(){return e.props.clickHandler(t)},shown:this.checkDeletable(a)?"hidden":""},"Select")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(a)?"Clicked":"notClicked",onClick:function(){return e.props.editMenu(e.props.obj)},shown:this.checkDeletable(a)?"hidden":""},"Edit")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{onClick:function(){return e.props.buttonClicked(a)},onClickCapture:function(){return e.setState({clickedButtons:e.props.clickedButtons})},className:this.checkClicked(a)?"Clicked":"notClicked",shown:this.checkDeletable(a)?"hidden":""},"Delete"),n.a.createElement("button",{className:"deletebutton",onClick:function(){return e.props.deleteOneList(a,t)},shown:this.checkDeletable(a)?"":"hidden"},"Delete List?")),n.a.createElement("div",{shape:"rTableCell"},n.a.createElement("button",{className:this.checkClicked(a)?"Clicked":"",onClick:function(){return e.props.buttonClicked(a)},shown:this.checkDeletable(a)?"show":"hidden"},"Cancel"))))}}]),t}(s.Component),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).listTable=function(){return a.props.listCollection.map((function(e,t){return n.a.createElement(B,{obj:e,key:t,clickHandler:a.props.clickHandler,editMenu:a.props.editMenu,isClicked:a.props.isClicked,clickedLists:a.props.clickedLists,deleteOneList:a.props.deleteOneList,clickedButtons:a.props.clickedButtons,buttonClicked:a.props.buttonClicked,unavailableLists:a.props.unavailableLists})}))},a.state={clickedLists:[],clickedButtons:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.listTable();return n.a.createElement("div",{className:"tableDisplay"},n.a.createElement("div",{shape:"rTable"},n.a.createElement("div",{shape:"rTableRow"},n.a.createElement("div",{shape:"rTableCell"},"Name"),n.a.createElement("div",{shape:"rTableCell"},"Description"),n.a.createElement("div",{shape:"rTableCell"},"Due")),e))}}]),t}(s.Component),A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).refreshLists=function(){b.a.get("https://to-do-list-server-api.herokuapp.com/lists",{params:{user:a.context.state.userLogged}}).then((function(e){console.log(e),a.setState({listCollection:e.data.data,listsLoaded:!0})})).catch((function(e){console.log(e)}))},a.state={selection:"",listCollection:[],clickedLists:[],clickedButtons:[],unavailableLists:[],editId:"",listsLoaded:!1},a.clickHandler=a.clickHandler.bind(Object(E.a)(a)),a.isClicked=a.isClicked.bind(Object(E.a)(a)),a.deleteOneList=a.deleteOneList.bind(Object(E.a)(a)),a.buttonClicked=a.buttonClicked.bind(Object(E.a)(a)),a.editMenu=a.editMenu.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.refreshLists()}},{key:"isClicked",value:function(e){var t=this.state.clickedLists.includes(e);return!1===t?(this.state.clickedLists.push(e),!0===t):!0===t?(this.state.clickedLists.splice(this.state.clickedLists.indexOf(e),1),!1===t):void 0}},{key:"buttonClicked",value:function(e){var t=this.state.clickedButtons.includes(e);return!1===t?(this.state.clickedButtons.push(e),!0===t):!0===t?(this.state.clickedButtons.splice(this.state.clickedButtons.indexOf(e),1),!1===t):void 0}},{key:"clickHandler",value:function(e){console.log(e),this.setState({selection:e}),this.setState({redirect:!0})}},{key:"addlist",value:function(){this.setState({redirect2:!0})}},{key:"deleteOneList",value:function(e,t){var a=this;console.log(e),b.a.delete("https://to-do-list-server-api.herokuapp.com/list",{params:{id:e,list:t,user:this.context.state.userLogged}}).then((function(t){a.state.unavailableLists.splice(a.state.unavailableLists.indexOf(e),1),a.refreshLists()})).catch((function(e){console.log(e)}))}},{key:"editMenu",value:function(e){this.setState({name:e.name,description:e.description,due:e.due,editId:e._id}),this.state.unavailableLists.splice(this.state.unavailableLists.indexOf(e.name),1),this.setState({redirect3:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?(console.log(this.state.selection),n.a.createElement(C.Consumer,null,(function(t){var a=t.identify;return n.a.createElement(v.a,{push:a(e.context.state.userLogged,e.state.selection),to:"/CTForm"})}))):this.state.redirect2?n.a.createElement(v.a,{push:!0,to:{pathname:"/CLForm",state:{unavailableLists:this.state.unavailableLists}}}):this.state.redirect3?n.a.createElement(v.a,{push:!0,to:{pathname:"/EList",state:{id:this.state.editId,name:this.state.name,description:this.state.description,due:this.state.due,unavailableLists:this.state.unavailableLists}}}):n.a.createElement("div",null,n.a.createElement("button",{disabled:!this.state.listsLoaded,onClick:function(){return e.addlist()}},"Create New List"),n.a.createElement(M,{listCollection:this.state.listCollection,clickHandler:this.clickHandler,editMenu:this.editMenu,isClicked:this.isClicked,clickedLists:this.state.clickedLists,deleteOneList:this.deleteOneList,clickedButtons:this.state.clickedButtons,buttonClicked:this.buttonClicked,unavailableLists:this.state.unavailableLists}))}}]),t}(s.Component);A.contextType=C;var U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.props.history.location.state.id,s={user:a.context.state.userLogged,name:a.state.name,description:a.state.description,due:a.state.due,list:a.context.state.activeList};b.a.patch("https://to-do-list-server-api.herokuapp.com/task",{params:{id:t,task:s}}).then((function(e){a.setState({name:"",desc:"",due:""}),a.setState({redirect:!0})})).catch((function(e){console.log(e)}))},a.state={name:"",description:"",due:"",selection:"",taskCollection:[],unavailableTasks:[]},a.change=a.change.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({name:this.props.history.location.state.name,description:this.props.history.location.state.description,due:this.props.history.location.state.due,unavailableTasks:this.props.history.location.state.unavailableTasks})}},{key:"goBack",value:function(){this.setState({back:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?n.a.createElement(v.a,{push:!0,to:"/CTForm"}):this.state.back?n.a.createElement(v.a,{push:!0,to:"/CTForm"}):n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"Edit Task"),n.a.createElement("input",{name:"name",maxLength:20,placeholder:"Task Name",value:this.state.name,onChange:function(t){return e.change(t)}}),n.a.createElement("p",{className:this.state.unavailableTasks.includes(this.state.name)?"shown-messages":"hidden-messages"}," List names must be unique"),n.a.createElement("br",null),n.a.createElement("input",{name:"description",maxLength:50,placeholder:"What to do",value:this.state.description,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("input",{name:"due",maxLength:20,placeholder:"When to have it done",value:this.state.due,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("button",{disabled:0===this.state.name.length,onClick:function(t){return e.onSubmit(t)}},"Update Task"),n.a.createElement("br",null),n.a.createElement("button",{type:"button",disabled:!!this.state.unavailableTasks.includes(this.state.name),onClick:function(){return e.goBack()}},"Back")))}}]),t}(n.a.Component),I=Object(v.g)(U);U.contextType=C;var F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).change=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.props.history.location.state.id,s=a.props.history.location.state.name,n={list:a.state.name},l={user:a.context.state.userLogged,name:a.state.name,description:a.state.description,due:a.state.due};b.a.patch("https://to-do-list-server-api.herokuapp.com/list",{params:{user:a.context.state.userLogged,id:t,list:l,prevName:s,nameUpdate:n}}).then((function(e){a.setState({name:"",desc:"",due:""}),a.setState({redirect:!0})})).catch((function(e){console.log(e)}))},a.state={name:"",description:"",due:"",selection:"",unavailableLists:[],taskCollection:[]},a.change=a.change.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({name:this.props.history.location.state.name,description:this.props.history.location.state.description,due:this.props.history.location.state.due,unavailableLists:this.props.history.location.state.unavailableLists})}},{key:"goBack",value:function(){this.setState({back:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?n.a.createElement(v.a,{push:!0,to:"/Select"}):this.state.back?n.a.createElement(v.a,{push:!0,to:"/Select"}):n.a.createElement("div",null,n.a.createElement("form",null,n.a.createElement("h3",null,"Edit List"),n.a.createElement("input",{name:"name",maxLength:20,placeholder:"List Name",value:this.state.name,onChange:function(t){return e.change(t)}}),n.a.createElement("p",{className:this.state.unavailableLists.includes(this.state.name)?"shown-messages":"hidden-messages"}," List names must be unique"),n.a.createElement("br",null),n.a.createElement("input",{name:"description",maxLength:50,placeholder:"What to do",value:this.state.description,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("input",{name:"due",maxLength:20,placeholder:"When to have it done",value:this.state.due,onChange:function(t){return e.change(t)}}),n.a.createElement("br",null),n.a.createElement("button",{disabled:0===this.state.name.length,onClick:function(t){return e.onSubmit(t)}},"Update List"),n.a.createElement("br",null),n.a.createElement("button",{type:"button",onClick:function(){return e.goBack()}},"Back")))}}]),t}(n.a.Component),H=Object(v.g)(F);F.contextType=C;var W=function(){return n.a.createElement("div",null,n.a.createElement(v.d,null,n.a.createElement(v.b,{exact:!0,path:"/"},n.a.createElement(g,null)),n.a.createElement(S,{path:"/CTForm"},n.a.createElement(j,null)),n.a.createElement(S,{path:"/CLForm"},n.a.createElement(N,null)),n.a.createElement(v.b,{path:"/CUForm"},n.a.createElement(x,null)),n.a.createElement(S,{path:"/Select"},n.a.createElement(A,null)),n.a.createElement(S,{path:"/ETask"},n.a.createElement(I,null)),n.a.createElement(S,{path:"/EList"},n.a.createElement(H,null))))},P=function(){return n.a.createElement("div",null,n.a.createElement(W,null))};var R=function(){var e=Object(s.useContext)(C);return e.isAuthenticated?n.a.createElement("button",{onClick:function(){e.signout()}},"Sign out"):n.a.createElement("p",null,"Sign in to view lists")};var _=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],i=Object(s.useState)({userLogged:"",activeList:""}),o=Object(c.a)(i,2),r=o[0],u=o[1],d={isAuthenticated:a,state:r,authenticate:function(){l(!0)},signout:function(){l(!1)},identify:function(e,t){console.log(e),console.log(t),u({userLogged:e,activeList:t})}};return n.a.createElement("div",{className:"App"},n.a.createElement(C.Provider,{value:d},n.a.createElement(f.a,null,n.a.createElement(R,null),n.a.createElement(L,null),n.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.5dcf371c.chunk.js.map